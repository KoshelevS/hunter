!function(){"use strict";angular.module("projectsApp",["projectsService","ui.grid","ui.bootstrap"])}(),function(){"use strict";function e(e){HunterAlerts.setScope(e),e.alertDismissTimeout=HunterSettings.getAlertDismissTimeout(),e.closeAlert=function(e){HunterAlerts.removeAlert(e)}}angular.module("projectsApp").controller("alertsController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,n){e.title="Add Project",e.ok=function(){n.post("/api/project/",e.project).success(function(){t.close()})},e.cancel=function(){t.dismiss("cancel")}}function t(e,t,n,r){e.title="Edit Project",n.get("/api/project/"+r).success(function(t){e.project=t}),e.ok=function(){n.put("/api/project/"+r,e.project).success(function(){t.close()})},e.cancel=function(){t.dismiss("cancel")}}function n(e,t,n,r){e.Projects=r.query(),e.add=function(){var n=t.open({animation:!0,templateUrl:"/html/EditProjectModal.html",controller:"AddProjectInstanceCtrl"});n.result.then(function(){e.Projects=r.query(),HunterAlerts.addSuccessAlert("Project was successfully added")})},e.edit=function(n){var c=t.open({animation:!0,templateUrl:"/html/EditProjectModal.html",controller:"EditProjectInstanceCtrl",resolve:{id:function(){return n}}});c.result.then(function(){e.Projects=r.query()})},e["delete"]=function(t){n["delete"]("/api/project/"+t).success(function(){HunterAlerts.addSuccessAlert("Project was successfully deleted"),e.Projects=r.query()}).error(function(){HunterAlerts.addDangerAlert("Error was occured during the project removal"),e.Projects=r.query()})},e.gridOptions={enableFiltering:!0,columnDefs:[{name:"ID",field:"Id"},{name:"Name",field:"Name"},{name:"Vacancies",field:"Vacancies[0].Name"},{name:"Actions",enableFiltering:!1,cellTemplate:'<div><button class="btn btn-warning" ng-click="grid.appScope.edit(row.entity.Id)"><span class="glyphicon glyphicon-pencil"></span> Edit</button><button class="btn btn-danger" ng-click="grid.appScope.delete(row.entity.Id)"><span class="glyphicon glyphicon-remove"></span> Delete</button></div>',sortable:!1}]},e.gridOptions.data="Projects"}angular.module("projectsApp").controller("projectsController",n).controller("AddProjectInstanceCtrl",e).controller("EditProjectInstanceCtrl",t),n.$inject=["$scope","$uibModal","$http","Projects"],e.$inject=["$scope","$uibModalInstance","$http"],t.$inject=["$scope","$uibModalInstance","$http","id"]}();var HunterAlerts=function(){"use strict";var e=[];return{setScope:function(t){t.alerts=e},addSuccessAlert:function(t){e.push({type:"success",message:t})},addInfoAlert:function(t){e.push({type:"info",message:t})},addWarningAlert:function(t){e.push({type:"warning",message:t})},addDangerAlert:function(t){e.push({type:"danger",message:t})},removeAlert:function(t){e.splice(t,1)}}}(),HunterSettings=function(){"use strict";var e={alertDismissTimeout:5e3};return{getAlertDismissTimeout:function(){return e.alertDismissTimeout}}}();!function(){"use strict";var e=angular.module("projectsService",["ngResource"]);e.factory("Projects",["$resource",function(e){return e("/api/project",{},{query:{method:"GET",params:{},isArray:!0}})}])}();